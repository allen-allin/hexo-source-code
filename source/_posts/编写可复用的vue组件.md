---
title: 编写可复用的vue组件
date: 2017-4-5 19:45:53
tags: 学习心得
---
#### 组件的划分：

按职责划分的话，组件可以分为通用组件（可复用组件）和业务组件（一次性组件）

##### 通用组件：

也就是可复用组件，顾名思义，就是可以实现通用的功能，而并不会因为组件的使用场景、位置等发生变化。通用组件的常见场景：

* UI展示
* 用户交互（事件）
* 动画效果

##### 业务组件：

也就是一次性组件，实现的是偏业务化的功能，如：

- 获取数据
- 和vuex相关的操作
- 引用可复用组件


#### 可复用组件的编写原则：

1. 只实现UI相关的功能，如何获取数据与它无关，因此不需要在组件内部获取数据，以及任何与服务器打交道的操作
2. 减少对外部条件的依赖

    * 所有与vuex相关的操作都不应该在可复用组件中出现
    * 避免对父组件的依赖，不使用
        
        ```
        this.$parent
        ```
        来操作父组件的实例。
        
        同样的，父组件也不应该通过
        
        ```
        this.$children
        ```
        来引用子组件的实例，而是应该通过子组件的接口来交互

3. 没有特别需求且单个组件不至于过重的前提下，不要把一个有独立功能的组件分成若干个小组件
4. 接口不应该是一个对象，而是每个接口只接受一个简单类型的数据
5. 自定义事件实现数据的双向绑定
6. 使用自定义watcher优化dom操作
7. 单组件不宜过重，在功能独立的前提下尽量简单，越简单，复用性越强。