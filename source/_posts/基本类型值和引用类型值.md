---
title: 基本类型值和引用类型值
date: 2016-12-22 09:37:08
tags: 学习心得
---
### 什么是变量
先看看到底什么是变量？在JS中，变量仅仅是一个用来保存值的占位符而已，变量占据一定的内存位置，里面保存着值。可以理解为是一个盒子，盒子里面可以装各种东西，盒子的名字就叫变量名。

### 什么是基本类型值和引用类型值
javascript的变量可能有两个不同类型的值：基本类型值和引用类型值。

基本类型值指简单的数据段，包括Undifined、Null、Boolean、Number和String。

引用类型的值指那些可能由多个值构成的**对象**，包括Object、Array、Date、RegExp、Funciton等。 

   

### 不同之处：
1. 大小不同：
    * 基本类型的值大小固定，一般都比较小；
    * 引用类型的值大小不固定，一般比较大。
2. 保存位置不同：
    * 基本类型的值保存在栈中
    * 引用类型的值保存在堆中，引用保存在栈中
    
    关于堆和栈的区别：栈中保存的是基本类型的值以及引用类型值的引用，大小固定，按值访问；而引用类型的值大小不固定，所以要保存在堆中，不能直接保存在栈中，但是可以把地址（即引用，或者指针）保存在栈中。图中，连接栈中Object类型与堆中Object的线就是引用。
![image](http://img1.tuicool.com/nIVVNza.png!web)
3. 访问方式不同：
    * 基本类型的值，可以直接操作保存在变量中的实际值，即可以直接访问变量所占的内存位置，所以基本类型的值是按值访问的。
    * 引用类型的值是保存在内存中的对象。与基本类型的值不同，引用类型的值中，js不允许直接访问内存位置，也就是说不能直接操作对象的内存空间，在操作对象的时候实际上都是在操作对象的引用而不是实际的对象，所以引用类型的值都是按引用访问的。
    

    何为引用？引用传递的是对象的在内存空间中的地址。
    何为按引用访问？就相当于访问对象的地址（指针），而不是直接访问对象

4. 只能给引用类型值动态的添加属性和方法，而不能给基本类型值添加属性和方法。
5. 复制变量值时的不同：
    * 基本类型的值：因为基本类型值是按值访问的，所以在从一个变量向另外一个变量复制基本类型值的时候，会重新创建一个新的内存空间用来存新变量的值。新变量和原来的变量虽然值一样，但是确是两个相互独立的变量，互不影响，因为他们的内存位置不一样。
    * 引用类型的值：因为引用类型值是按引用访问的，所以在从一个变量向另外一个变量复制引用类型值的时候，复制的其实是这个对象在内存中的地址（指针）。复制结束后，两个变量实际上都引用同一个对象，或者说两个变量的指针都指向这个对象。因此两个变量是会互相影响的，改变其中一个变量，实际上是改变了内存中的对象，另外一个变量也会相应的改变。
    
```
var obj1=new Object();
var obj2=obj1;
obj1.name='zys';
alert(obj2.name);           //弹出‘zys’，因为obj1和obj2都指向同一个内存空间
```
6. 给函数传递参数时的不同：函数传参是按值传递的，传参的过程实际就是把函数外部的值复制给函数内部的参数的过程，就和把值从一个变量复制到另外一个变量一样。
    * 基本类型的值：传参时，若参数为基本类型值，被传递的值会被复制为arguments的一个元素。
    * 引用类型的值：传参时，若参数为引用类型值，被传递的值的引用会被复制为arguments的一个元素，因此若这个arguments元素发生变化，则内存中的对象也会被改变，相应的原变量也会改变。
   

    

